id: https://open-and-sustainable.github.io/revaise-model/schema/profiles/search_min
name: search_min
description: "Minimal validation profile for search stage."
prefixes:
    linkml: https://w3id.org/linkml/
    revaise: https://open-and-sustainable.github.io/revaise-model/schema/
default_prefix: revaise
imports:
    - ../core
    - ../stages/search
    - ../objects/literature_record

# Minimal profile requires at least basic database and query information
classes:
    SearchStage:
        slot_usage:
            databases:
                required: true
                minimum_cardinality: 1
            search_queries:
                required: true
                minimum_cardinality: 1
            result_collections:
                required: true
                minimum_cardinality: 1

    Database:
        slot_usage:
            database_name:
                required: true
            database_url:
                required: true

    SearchQuery:
        slot_usage:
            query_id:
                required: true
            database_name:
                required: true
            query_string:
                required: true
            query_date:
                required: true
            result_collection_id:
                required: true

    LiteratureRecordCollection:
        slot_usage:
            collection_id:
                required: true
            collection_name:
                required: true
            records:
                minimum_cardinality: 0
